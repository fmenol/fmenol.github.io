'use client';

import { useEffect, useState } from 'react';

export default function RoboticArm3D() {
  const [frame, setFrame] = useState(0);

  // ASCII art frames of a 3D robotic pipetting arm
  const frames = [
    // Frame 0 - Arm reaching to well A1
    `
              ┌───────┐
              │ CTRL  │
              └───┬───┘
                  │
         ╔═══════╧═══════╗
         ║   ┌───────┐   ║
         ║   │PIPETTE│   ║
         ║   └───┬───┘   ║
         ║       │       ║
         ║    ╭──┴──╮    ║
         ║    │     │    ║
         ║    │  █  │    ║
         ║    ╰──┬──╯    ║
         ║       │       ║
         ║       ▼       ║
    ┌────╨───────────────╨────┐
    │  (●)  ( )  ( )  ( )     │
    │  [A1] [A2] [A3] [A4]    │
    │                         │
    │  ( )  ( )  ( )  ( )     │
    │  [B1] [B2] [B3] [B4]    │
    └─────────────────────────┘
    `,
    // Frame 1 - Dispensing at A1
    `
              ┌───────┐
              │ CTRL  │
              └───┬───┘
                  │
         ╔═══════╧═══════╗
         ║   ┌───────┐   ║
         ║   │PIPETTE│   ║
         ║   └───┬───┘   ║
         ║       │       ║
         ║    ╭──┴──╮    ║
         ║    │ ░░░ │    ║
         ║    │  ▓  │    ║
         ║    ╰──┬──╯    ║
         ║       │       ║
         ║       ◆       ║
    ┌────╨───────────────╨────┐
    │  (◆)  ( )  ( )  ( )     │
    │  [A1] [A2] [A3] [A4]    │
    │                         │
    │  ( )  ( )  ( )  ( )     │
    │  [B1] [B2] [B3] [B4]    │
    └─────────────────────────┘
    `,
    // Frame 2 - Moving to A2
    `
              ┌───────┐
              │ CTRL  │
              └───┬───┘
                  │
         ╔═══════╧═══════╗
         ║   ┌───────┐   ║
         ║   │PIPETTE├───╫────┐
         ║   └───┬───┘   ║    │
         ║       │       ║    │
         ║    ╭──┴──╮    ║    │
         ║    │     │    ║    │
         ║    │  █  │    ║    │
         ║    ╰──┬──╯    ║    │
         ║       └───────╫────┘
         ║               ║
    ┌────╨───────────────╨────┐
    │  (●)  ( )  ( )  ( )     │
    │  [A1] [A2] [A3] [A4]    │
    │                         │
    │  ( )  ( )  ( )  ( )     │
    │  [B1] [B2] [B3] [B4]    │
    └─────────────────────────┘
    `,
    // Frame 3 - Over A2
    `
              ┌───────┐
              │ CTRL  │
              └───┬───┘
                  │
         ╔═══════╧═══════════╗
         ║         ┌───────┐ ║
         ║         │PIPETTE│ ║
         ║         └───┬───┘ ║
         ║             │     ║
         ║          ╭──┴──╮  ║
         ║          │     │  ║
         ║          │  █  │  ║
         ║          ╰──┬──╯  ║
         ║             │     ║
         ║             ▼     ║
    ┌────╨───────────────────╨┐
    │  (●)  (●)  ( )  ( )     │
    │  [A1] [A2] [A3] [A4]    │
    │                         │
    │  ( )  ( )  ( )  ( )     │
    │  [B1] [B2] [B3] [B4]    │
    └─────────────────────────┘
    `,
    // Frame 4 - Dispensing at A2
    `
              ┌───────┐
              │ CTRL  │
              └───┬───┘
                  │
         ╔═══════╧═══════════╗
         ║         ┌───────┐ ║
         ║         │PIPETTE│ ║
         ║         └───┬───┘ ║
         ║             │     ║
         ║          ╭──┴──╮  ║
         ║          │ ░░░ │  ║
         ║          │  ▓  │  ║
         ║          ╰──┬──╯  ║
         ║             │     ║
         ║             ◆     ║
    ┌────╨───────────────────╨┐
    │  (●)  (◆)  ( )  ( )     │
    │  [A1] [A2] [A3] [A4]    │
    │                         │
    │  ( )  ( )  ( )  ( )     │
    │  [B1] [B2] [B3] [B4]    │
    └─────────────────────────┘
    `,
    // Frame 5 - Moving to B1
    `
              ┌───────┐
              │ CTRL  │
              └───┬───┘
                  │
         ╔═══════╧═══════╗
         ║   ┌───────┐   ║
         ║   │PIPETTE│   ║
         ║   └───┬───┘   ║
         ║       │       ║
         ║    ╭──┴──╮    ║
         ║    │     │    ║
         ║    │  █  │    ║
         ║    ╰──┬──╯    ║
         ║       │       ║
         ║       │       ║
    ┌────╨───────│───────╨────┐
    │  (●)  (●)  │ ( )  ( )   │
    │  [A1] [A2] │ [A3] [A4]  │
    │            ▼            │
    │  ( )  ( )  ( )  ( )     │
    │  [B1] [B2] [B3] [B4]    │
    └─────────────────────────┘
    `,
    // Frame 6 - Over B1
    `
              ┌───────┐
              │ CTRL  │
              └───┬───┘
                  │
         ╔═══════╧═══════╗
         ║   ┌───────┐   ║
         ║   │PIPETTE│   ║
         ║   └───┬───┘   ║
         ║       │       ║
         ║    ╭──┴──╮    ║
         ║    │     │    ║
         ║    │  █  │    ║
         ║    ╰──┬──╯    ║
         ║       │       ║
         ║       │       ║
    ┌────╨───────│───────╨────┐
    │  (●)  (●)  │ ( )  ( )   │
    │  [A1] [A2] │ [A3] [A4]  │
    │            │            │
    │  (●)  ( )  ▼ ( )  ( )   │
    │  [B1] [B2] [B3] [B4]    │
    └─────────────────────────┘
    `,
    // Frame 7 - Dispensing at B1
    `
              ┌───────┐
              │ CTRL  │
              └───┬───┘
                  │
         ╔═══════╧═══════╗
         ║   ┌───────┐   ║
         ║   │PIPETTE│   ║
         ║   └───┬───┘   ║
         ║       │       ║
         ║    ╭──┴──╮    ║
         ║    │ ░░░ │    ║
         ║    │  ▓  │    ║
         ║    ╰──┬──╯    ║
         ║       │       ║
         ║       ◆       ║
    ┌────╨───────────────╨────┐
    │  (●)  (●)  ( )  ( )     │
    │  [A1] [A2] [A3] [A4]    │
    │                         │
    │  (◆)  ( )  ( )  ( )     │
    │  [B1] [B2] [B3] [B4]    │
    └─────────────────────────┘
    `,
  ];

  useEffect(() => {
    const interval = setInterval(() => {
      setFrame((prev) => (prev + 1) % frames.length);
    }, 700);
    return () => clearInterval(interval);
  }, [frames.length]);

  return (
    <div className="flex flex-col items-center gap-4">
      <pre
        className="text-[8px] sm:text-[10px] md:text-xs leading-tight text-foreground font-mono"
        style={{ lineHeight: '1.2' }}
      >
        {frames[frame]}
      </pre>
      <p className="text-muted text-xs tracking-wider">
        c y b e r g e n e t i c s
      </p>
    </div>
  );
}
